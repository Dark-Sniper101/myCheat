let W = 1500
let H = 1200

function setup() {
    createCanvas(60*13, 330);
}

let INPUT = ("0\n" +
    "#############\n" +
    "#...........#\n" +
    "###D#B#C#C###\n" +
    "  #D#A#B#A#\n" +
    "  #########\n" +
    "\n" +
    "1B\n" +
    "#############\n" +
    "#....B......#\n" +
    "###D#.#C#C###\n" +
    "  #D#A#B#A#\n" +
    "  #########\n" +
    "\n" +
    "2B\n" +
    "#############\n" +
    "#.....B.....#\n" +
    "###D#.#C#C###\n" +
    "  #D#A#B#A#\n" +
    "  #########\n" +
    "\n" +
    "1A+2B\n" +
    "#############\n" +
    "#.....B.....#\n" +
    "###D#A#C#C###\n" +
    "  #D#.#B#A#\n" +
    "  #########\n" +
    "\n" +
    "2A+2B\n" +
    "#############\n" +
    "#....AB.....#\n" +
    "###D#.#C#C###\n" +
    "  #D#.#B#A#\n" +
    "  #########\n" +
    "\n" +
    "3A+2B\n" +
    "#############\n" +
    "#...A.B.....#\n" +
    "###D#.#C#C###\n" +
    "  #D#.#B#A#\n" +
    "  #########\n" +
    "\n" +
    "4A+2B\n" +
    "#############\n" +
    "#..A..B.....#\n" +
    "###D#.#C#C###\n" +
    "  #D#.#B#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+2B\n" +
    "#############\n" +
    "#.A...B.....#\n" +
    "###D#.#C#C###\n" +
    "  #D#.#B#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+2B+1C\n" +
    "#############\n" +
    "#.A...BC....#\n" +
    "###D#.#.#C###\n" +
    "  #D#.#B#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+2B+2C\n" +
    "#############\n" +
    "#.A...B.C...#\n" +
    "###D#.#.#C###\n" +
    "  #D#.#B#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+3B+2C\n" +
    "#############\n" +
    "#.A..B..C...#\n" +
    "###D#.#.#C###\n" +
    "  #D#.#B#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+4B+2C\n" +
    "#############\n" +
    "#.A.....C...#\n" +
    "###D#B#.#C###\n" +
    "  #D#.#B#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+5B+2C\n" +
    "#############\n" +
    "#.A.....C...#\n" +
    "###D#.#.#C###\n" +
    "  #D#B#B#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+6B+2C\n" +
    "#############\n" +
    "#.A.....C...#\n" +
    "###D#.#B#C###\n" +
    "  #D#B#.#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+7B+2C\n" +
    "#############\n" +
    "#.A....BC...#\n" +
    "###D#.#.#C###\n" +
    "  #D#B#.#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+8B+2C\n" +
    "#############\n" +
    "#.A...B.C...#\n" +
    "###D#.#.#C###\n" +
    "  #D#B#.#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+9B+2C\n" +
    "#############\n" +
    "#.A..B..C...#\n" +
    "###D#.#.#C###\n" +
    "  #D#B#.#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+10B+2C\n" +
    "#############\n" +
    "#.A.....C...#\n" +
    "###D#B#.#C###\n" +
    "  #D#B#.#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+10B+3C\n" +
    "#############\n" +
    "#.A....C....#\n" +
    "###D#B#.#C###\n" +
    "  #D#B#.#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+10B+4C\n" +
    "#############\n" +
    "#.A.........#\n" +
    "###D#B#C#C###\n" +
    "  #D#B#.#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+10B+5C\n" +
    "#############\n" +
    "#.A.........#\n" +
    "###D#B#.#C###\n" +
    "  #D#B#C#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+10B+6C\n" +
    "#############\n" +
    "#.A......C..#\n" +
    "###D#B#.#.###\n" +
    "  #D#B#C#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+10B+7C\n" +
    "#############\n" +
    "#.A.....C...#\n" +
    "###D#B#.#.###\n" +
    "  #D#B#C#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+10B+8C\n" +
    "#############\n" +
    "#.A....C....#\n" +
    "###D#B#.#.###\n" +
    "  #D#B#C#A#\n" +
    "  #########\n" +
    "\n" +
    "5A+10B+9C\n" +
    "#############\n" +
    "#.A.........#\n" +
    "###D#B#C#.###\n" +
    "  #D#B#C#A#\n" +
    "  #########\n" +
    "\n" +
    "6A+10B+9C\n" +
    "#############\n" +
    "#.A.........#\n" +
    "###D#B#C#A###\n" +
    "  #D#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "7A+10B+9C\n" +
    "#############\n" +
    "#.A......A..#\n" +
    "###D#B#C#.###\n" +
    "  #D#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C\n" +
    "#############\n" +
    "#.A.......A.#\n" +
    "###D#B#C#.###\n" +
    "  #D#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+1D\n" +
    "#############\n" +
    "#.AD......A.#\n" +
    "###.#B#C#.###\n" +
    "  #D#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+2D\n" +
    "#############\n" +
    "#.AD......A.#\n" +
    "###D#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+3D\n" +
    "#############\n" +
    "#.A.D.....A.#\n" +
    "###D#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+4D\n" +
    "#############\n" +
    "#.ADD.....A.#\n" +
    "###.#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+5D\n" +
    "#############\n" +
    "#.AD.D....A.#\n" +
    "###.#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+6D\n" +
    "#############\n" +
    "#.A.DD....A.#\n" +
    "###.#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+7D\n" +
    "#############\n" +
    "#.A.D.D...A.#\n" +
    "###.#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+8D\n" +
    "#############\n" +
    "#.A..DD...A.#\n" +
    "###.#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+9D\n" +
    "#############\n" +
    "#.A..D.D..A.#\n" +
    "###.#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+10D\n" +
    "#############\n" +
    "#.A...DD..A.#\n" +
    "###.#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+11D\n" +
    "#############\n" +
    "#.A...D.D.A.#\n" +
    "###.#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+12D\n" +
    "#############\n" +
    "#.A....DD.A.#\n" +
    "###.#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+13D\n" +
    "#############\n" +
    "#.A....D.DA.#\n" +
    "###.#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+14D\n" +
    "#############\n" +
    "#.A.....DDA.#\n" +
    "###.#B#C#.###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+15D\n" +
    "#############\n" +
    "#.A.....D.A.#\n" +
    "###.#B#C#D###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+16D\n" +
    "#############\n" +
    "#.A......DA.#\n" +
    "###.#B#C#D###\n" +
    "  #.#B#C#.#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+17D\n" +
    "#############\n" +
    "#.A......DA.#\n" +
    "###.#B#C#.###\n" +
    "  #.#B#C#D#\n" +
    "  #########\n" +
    "\n" +
    "8A+10B+9C+18D\n" +
    "#############\n" +
    "#.A.......A.#\n" +
    "###.#B#C#D###\n" +
    "  #.#B#C#D#\n" +
    "  #########\n" +
    "\n" +
    "9A+10B+9C+18D\n" +
    "#############\n" +
    "#..A......A.#\n" +
    "###.#B#C#D###\n" +
    "  #.#B#C#D#\n" +
    "  #########\n" +
    "\n" +
    "10A+10B+9C+18D\n" +
    "#############\n" +
    "#..A.....A..#\n" +
    "###.#B#C#D###\n" +
    "  #.#B#C#D#\n" +
    "  #########\n" +
    "\n" +
    "11A+10B+9C+18D\n" +
    "#############\n" +
    "#........A..#\n" +
    "###A#B#C#D###\n" +
    "  #.#B#C#D#\n" +
    "  #########\n" +
    "\n" +
    "12A+10B+9C+18D\n" +
    "#############\n" +
    "#.......A...#\n" +
    "###A#B#C#D###\n" +
    "  #.#B#C#D#\n" +
    "  #########\n" +
    "\n" +
    "13A+10B+9C+18D\n" +
    "#############\n" +
    "#.......A...#\n" +
    "###.#B#C#D###\n" +
    "  #A#B#C#D#\n" +
    "  #########\n" +
    "\n" +
    "14A+10B+9C+18D\n" +
    "#############\n" +
    "#......A....#\n" +
    "###.#B#C#D###\n" +
    "  #A#B#C#D#\n" +
    "  #########\n" +
    "\n" +
    "15A+10B+9C+18D\n" +
    "#############\n" +
    "#.....A.....#\n" +
    "###.#B#C#D###\n" +
    "  #A#B#C#D#\n" +
    "  #########\n" +
    "\n" +
    "16A+10B+9C+18D\n" +
    "#############\n" +
    "#....A......#\n" +
    "###.#B#C#D###\n" +
    "  #A#B#C#D#\n" +
    "  #########\n" +
    "\n" +
    "17A+10B+9C+18D\n" +
    "#############\n" +
    "#...A.......#\n" +
    "###.#B#C#D###\n" +
    "  #A#B#C#D#\n" +
    "  #########\n" +
    "\n" +
    "18A+10B+9C+18D\n" +
    "#############\n" +
    "#..A........#\n" +
    "###.#B#C#D###\n" +
    "  #A#B#C#D#\n" +
    "  #########\n" +
    "\n" +
    "19A+10B+9C+18D\n" +
    "#############\n" +
    "#...........#\n" +
    "###A#B#C#D###\n" +
    "  #A#B#C#D#\n" +
    "  #########").split("\n\n")


function drawIt(map) {
    move = map.split("\n")[0]
    rows = map.split("\n").slice(1)
    fill('white')
    score = eval(move.replace("A", "*1").replace("B", "*10").replace("C", "*100").replace("D", "*1000"))
    text(move.replace(/\+/g, " + ") + " = " + score, 50, 40)
    for (i = 0; i < rows.length; ++i) {
        for (j = 0; j < rows[i].length; ++j) {
            v = rows[i][j]
            if (v == '#')
                fill('#3d3d61')
            else if (v == ".")
                fill('#10101a')
            else if (v == " ") {
                fill('#10101a')
                stroke('#10101a')
            }
            else if (v == 'A')
                fill('#00c8ff')
            else if (v == 'B')
                fill('#a47a4d')
            else if (v == 'C')
                fill('#009900')
            else if (v == 'D')
                fill('#ffff66')
            rect(j*50+50, i*50+50, 50, 50);
            if (['A', 'B', 'C', 'D'].includes(v)) {
                fill('black')
                textSize(20)
                text(v, j*50+70, i*50+80)
            }
        }
    }
}

let Z = 0
let J = 0
function draw() {
    background("#10101a");
    drawIt(INPUT[Z])

    if (J++ > 10) {
        if (Z++ >= INPUT.length) Z = INPUT.length - 1
        J = 0
    }
}
